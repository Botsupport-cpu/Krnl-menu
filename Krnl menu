local UIS = game:GetService("UserInputService")
local CoreGui = game:GetService("CoreGui")
local Players = game:GetService("Players")

-- –ü–ï–†–ï–ú–ï–ù–ù–´–ï --
local mainGui = nil
local dragStart, startPos, dragging = nil, nil, false

-- –§–£–ù–ö–¶–ò–Ø –ü–ï–†–ï–¢–ê–°–ö–ò–í–ê–ù–ò–Ø –í–°–ï–ì–û –ú–ï–ù–Æ --
local function EnableDrag(frame)
    local dragArea = frame:FindFirstChild("DragArea")
    if not dragArea then return end

    dragArea.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = frame.Position
            
            local connection
            connection = input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                    connection:Disconnect()
                end
            end)
        end
    end)
    
    dragArea.InputChanged:Connect(function(input)
        if (input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseMovement) and dragging then
            local delta = input.Position - dragStart
            frame.Position = UDim2.new(
                startPos.X.Scale, 
                startPos.X.Offset + delta.X,
                startPos.Y.Scale, 
                startPos.Y.Offset + delta.Y
            )
        end
    end)
end

-- –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø --
local function ShowNotification(message)
    local gui = Instance.new("ScreenGui")
    gui.Name = "Notif"
    gui.Parent = CoreGui
    
    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0.6, 0, 0.08, 0)
    frame.Position = UDim2.new(0.2, 0, 0.1, 0)
    frame.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
    frame.BorderSizePixel = 0
    
    local label = Instance.new("TextLabel")
    label.Text = message
    label.Size = UDim2.new(1, 0, 1, 0)
    label.BackgroundTransparency = 1
    label.TextColor3 = Color3.new(1, 1, 1)
    label.TextScaled = true
    label.Parent = frame
    frame.Parent = gui
    
    task.delay(3, function()
        gui:Destroy()
    end)
end

-- –û–°–ù–û–í–ù–û–ï –ú–ï–ù–Æ --
local function CreateMainMenu()
    if mainGui then
        mainGui:Destroy()
    end

    mainGui = Instance.new("ScreenGui")
    mainGui.Name = "MainMenu"
    mainGui.ResetOnSpawn = false
    mainGui.Parent = CoreGui

    local mainFrame = Instance.new("Frame")
    mainFrame.Size = UDim2.new(0.8, 0, 0.6, 0)
    mainFrame.Position = UDim2.new(0.1, 0, 0.2, 0)
    mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
    mainFrame.Active = true
    mainFrame.BorderSizePixel = 2
    mainFrame.BorderColor3 = Color3.fromRGB(255, 0, 0) -- –ö—Ä–∞—Å–Ω–∞—è —Ä–∞–º–∫–∞ –¥–ª—è –≤–∏–¥–∏–º–æ—Å—Ç–∏

    -- –û–ë–õ–ê–°–¢–¨ –î–õ–Ø –ü–ï–†–ï–¢–ê–°–ö–ò–í–ê–ù–ò–Ø (–í–ï–°–¨ –í–ï–†–•) --
    local dragArea = Instance.new("Frame")
    dragArea.Name = "DragArea"
    dragArea.Size = UDim2.new(1, 0, 0.15, 0)
    dragArea.BackgroundColor3 = Color3.fromRGB(45, 45, 55)
    dragArea.BorderSizePixel = 0
    dragArea.Active = true
    dragArea.ZIndex = 2

    -- –ó–ê–ì–û–õ–û–í–û–ö --
    local title = Instance.new("TextLabel")
    title.Text = "‚â° DRAG HERE TO MOVE ‚â°"
    title.Size = UDim2.new(1, 0, 1, 0)
    title.BackgroundTransparency = 1
    title.TextColor3 = Color3.new(1, 1, 1)
    title.TextScaled = true
    title.ZIndex = 3
    title.Parent = dragArea

    -- –ü–û–õ–ï –í–í–û–î–ê --
    local textBox = Instance.new("TextBox")
    textBox.PlaceholderText = "Enter script here..."
    textBox.Size = UDim2.new(0.9, 0, 0.5, 0)
    textBox.Position = UDim2.new(0.05, 0, 0.3, 0)
    textBox.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
    textBox.TextColor3 = Color3.new(1, 1, 1)
    textBox.MultiLine = true
    textBox.TextWrapped = true

    -- –ö–ù–û–ü–ö–ê –í–´–ü–û–õ–ù–ï–ù–ò–Ø --
    local executeBtn = Instance.new("TextButton")
    executeBtn.Text = "EXECUTE"
    executeBtn.Size = UDim2.new(0.9, 0, 0.1, 0)
    executeBtn.Position = UDim2.new(0.05, 0, 0.85, 0)
    executeBtn.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
    executeBtn.TextColor3 = Color3.new(1, 1, 1)

    -- –°–ë–û–†–ö–ê --
    dragArea.Parent = mainFrame
    textBox.Parent = mainFrame
    executeBtn.Parent = mainFrame
    mainFrame.Parent = mainGui

    -- –í–ö–õ–Æ–ß–ê–ï–ú –ü–ï–†–ï–¢–ê–°–ö–ò–í–ê–ù–ò–ï --
    EnableDrag(mainFrame)

    -- –§–£–ù–ö–¶–ò–û–ù–ê–õ --
    executeBtn.MouseButton1Click:Connect(function()
        local script = textBox.Text
        if script and script ~= "" then
            local success, err = pcall(function()
                loadstring(script)()
            end)
            if success then
                ShowNotification("Script executed!")
            else
                ShowNotification("Error: " .. tostring(err))
            end
        else
            ShowNotification("Enter script first!")
        end
    end)

    ShowNotification("Menu loaded! Drag the TOP BAR to move")
    return mainGui
end

-- –ê–í–¢–û–ó–ê–ü–£–°–ö --
task.spawn(function()
    task.wait(2)
    CreateMainMenu()
end)

-- –ö–ù–û–ü–ö–ê –ü–ï–†–ï–ó–ê–ì–†–£–ó–ö–ò –î–õ–Ø –¢–ï–°–¢–ê --
local reloadBtn = Instance.new("TextButton")
reloadBtn.Text = "üîÑ RELOAD"
reloadBtn.Size = UDim2.new(0.15, 0, 0.05, 0)
reloadBtn.Position = UDim2.new(0.02, 0, 0.02, 0)
reloadBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 150)
reloadBtn.TextColor3 = Color3.new(1, 1, 1)
reloadBtn.Parent = CoreGui

reloadBtn.MouseButton1Click:Connect(function()
    CreateMainMenu()
    ShowNotification("Menu reloaded!")
end)

print("‚úÖ Drag menu activated! Drag the TOP BAR to move")
